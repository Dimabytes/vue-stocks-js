(function(t){function n(n){for(var o,s,c=n[0],i=n[1],u=n[2],l=0,f=[];l<c.length;l++)s=c[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);d&&d(n);while(f.length)f.shift()();return r.push.apply(r,u||[]),e()}function e(){for(var t,n=0;n<r.length;n++){for(var e=r[n],o=!0,s=1;s<e.length;s++){var i=e[s];0!==a[i]&&(o=!1)}o&&(r.splice(n--,1),t=c(c.s=e[0]))}return t}var o={},a={app:0},r=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2d0e1fec":"7943ac15","chunk-2d0f1158":"e9787075","chunk-2d21ac00":"1d76bef3"}[t]+".js"}function c(n){if(o[n])return o[n].exports;var e=o[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.e=function(t){var n=[],e=a[t];if(0!==e)if(e)n.push(e[2]);else{var o=new Promise((function(n,o){e=a[t]=[n,o]}));n.push(e[2]=o);var r,i=document.createElement("script");i.charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.src=s(t);var u=new Error;r=function(n){i.onerror=i.onload=null,clearTimeout(l);var e=a[t];if(0!==e){if(e){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",u.name="ChunkLoadError",u.type=o,u.request=r,e[1](u)}a[t]=void 0}};var l=setTimeout((function(){r({type:"timeout",target:i})}),12e4);i.onerror=i.onload=r,document.head.appendChild(i)}return Promise.all(n)},c.m=t,c.c=o,c.d=function(t,n,e){c.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,n){if(1&n&&(t=c(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)c.d(e,o,function(n){return t[n]}.bind(null,o));return e},c.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(n,"a",n),n},c.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},c.p="/vue-stocks-js/",c.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=n,i=i.slice();for(var l=0;l<i.length;l++)n(i[l]);var d=u;r.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";var o=e("85ec"),a=e.n(o);a.a},1:function(t,n){},"56d7":function(t,n,e){"use strict";e.r(n);var o={};e.r(o),e.d(o,"loadData",(function(){return $}));e("4de4"),e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("2b0e"),r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container"},[e("Header"),e("transition",{attrs:{name:"slide",mode:"out-in"}},[e("router-view")],1)],1)},s=[],c=(e("ab8b"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("nav",{staticClass:"navbar navbar-expand-sm navbar-light bg-light"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("Stocks trader")]),e("div",{staticClass:"collapse navbar-collapse"},[e("ul",{staticClass:"navbar-nav"},[e("router-link",{staticClass:"nav-item",attrs:{to:"/portfolio",tag:"li","active-class":"active"}},[e("a",{staticClass:"nav-link"},[t._v("Portfolio")])]),e("router-link",{staticClass:"nav-item",attrs:{to:"/stocks",tag:"li","active-class":"active"}},[e("a",{staticClass:"nav-link"},[t._v("Stocks")])])],1),e("a",{staticClass:"navbar-nav ml-auto",staticStyle:{cursor:"pointer"},on:{click:t.endDay}},[t._v("End day")]),e("ul",{staticClass:"navbar-nav"},[e("li",{staticClass:"nav-item dropdown"},[e("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:function(n){t.isDropdownOpen=!t.isDropdownOpen}}},[t._v(" Save & Load ")]),e("div",{staticClass:"dropdown-menu",class:{show:t.isDropdownOpen},attrs:{"aria-labelledby":"navbarDropdown"}},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.saveData}},[t._v("Save data")]),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.loadData}},[t._v("Load data")])])])]),e("strong",{staticClass:"navbar-nav"},[t._v("Funds: "+t._s(t._f("currency")(t.funds)))])])],1)}),i=[],u=e("5530"),l=e("2f62"),d={name:"Header",data:function(){return{isDropdownOpen:!1}},computed:Object(u["a"])(Object(u["a"])({},Object(l["c"])("portfolio",{funds:"funds",stocksPortfolio:"stocks"})),Object(l["c"])("stocks",["stocks"])),methods:Object(u["a"])(Object(u["a"])(Object(u["a"])({},Object(l["b"])("stocks",{randomizeStocks:"randomizeStocks"})),Object(l["b"])({fetchData:"loadData"})),{},{endDay:function(){this.randomizeStocks()},saveData:function(){var t={funds:this.funds,stocks:this.stocks,stocksPortfolio:this.stocksPortfolio};this.$http.put("data.json",t)},loadData:function(){this.fetchData()}})},f=d,p=e("2877"),v=Object(p["a"])(f,c,i,!1,null,"443ac086",null),k=v.exports,h={components:{Header:k},created:function(){this.$store.dispatch("stocks/initStocks")}},m=h,b=(e("034f"),Object(p["a"])(m,r,s,!1,null,null,null)),O=b.exports,S=e("28dd"),y=e("8c4f");e("d3b7");a["a"].use(y["a"]);var g=[{path:"/",name:"Home",component:function(){return e.e("chunk-2d0e1fec").then(e.bind(null,"7d8a"))}},{path:"/portfolio",name:"Portfolio",component:function(){return e.e("chunk-2d0f1158").then(e.bind(null,"9eb8"))}},{path:"/stocks",name:"Stocks",component:function(){return e.e("chunk-2d21ac00").then(e.bind(null,"bd9a"))}}],w=new y["a"]({mode:"history",base:"/vue-stocks-js/",routes:g}),j=w,_=(e("4160"),e("159b"),e("96cf"),e("1da1")),C=function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].http.get("stocks.json");case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P={stocks:[]},T={SET_STOCKS:function(t,n){console.log(n),t.stocks=n},RND_STOCKS:function(t){t.stocks.forEach((function(t){t.price=Math.round(t.price*(.5+Math.random()))}))}},D={initStocks:function(t){return Object(_["a"])(regeneratorRuntime.mark((function n(){var e,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e=t.commit,n.next=3,C();case 3:o=n.sent,e("SET_STOCKS",o);case 5:case"end":return n.stop()}}),n)})))()},randomizeStocks:function(t){var n=t.commit;n("RND_STOCKS")}},x={stocks:function(t){return t.stocks}},E={namespaced:!0,state:P,mutations:T,actions:D,getters:x},L=(e("7db0"),e("c975"),e("d81d"),e("a434"),{funds:1e4,stocks:[]}),q={BUY_STOCK:function(t,n){var e=n.stockId,o=n.quantity,a=n.stockPrice,r=t.stocks.find((function(t){return t.id===e}));r?r.quantity+=o:t.stocks.push({id:e,quantity:o}),t.funds-=a*o},SELL_STOCK:function(t,n){var e=n.stockId,o=n.quantity,a=n.stockPrice,r=t.stocks.find((function(t){return t.id===e}));r.quantity>o?r.quantity-=o:t.stocks.splice(t.stocks.indexOf(r),1),t.funds+=a*o},SET_PORTFOLIO:function(t,n){t.funds=n.funds,t.stocks=n.stocksPortfolio?n.stocksPortfolio:[]}},K={sellStock:function(t,n){var e=t.commit;e("SELL_STOCK",n)},buyStock:function(t,n){var e=t.commit;e("BUY_STOCK",n)}},R={stocks:function(t,n,e){return t.stocks.map((function(t){var n=e["stocks"]["stocks"].find((function(n){return n.id===t.id}));return Object(u["a"])(Object(u["a"])({},n),{},{quantity:t.quantity})}))},funds:function(t){return t.funds}},M={namespaced:!0,state:L,mutations:q,actions:K,getters:R},$=function(t){var n=t.commit;a["a"].http.get("data.json").then((function(t){return t.json()})).then((function(t){if(t){var e=t.stocks,o=t.funds,a=t.stocksPortfolio;n("portfolio/SET_PORTFOLIO",{stocksPortfolio:a,funds:o},{root:!0}),n("stocks/SET_STOCKS",e,{root:!0})}}))};a["a"].use(l["a"]);var z=new l["a"].Store({actions:o,modules:{stocks:E,portfolio:M}});a["a"].use(y["a"]),a["a"].use(S["a"]),a["a"].filter("currency",(function(t){return"$"+t.toLocaleString()})),a["a"].http.options.root="https://teststocks-7dd7a.firebaseio.com/",new a["a"]({el:"#app",router:j,store:z,render:function(t){return t(O)}})},"85ec":function(t,n,e){}});
//# sourceMappingURL=app.3b72951b.js.map